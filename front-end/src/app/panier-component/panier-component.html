<div class="cart-container">
  <div class="cart-header">
    <h1>Mon Panier</h1>
    <p class="cart-subtitle">Votre s√©lection de produits</p>
  </div>

  <div class="progress-tracker">
    <div class="step" [class.active]="currentStage() >= 0">
      <i class="material-icons" style="font-size:36px">shopping_basket</i>
    </div>
    <div class="bar"></div>
    <div class="step" [class.active]="currentStage() >= 1">
      <i class='fas fa-shipping-fast' style='font-size:36px'></i>
    </div>
    <div class="bar"></div>
    <div class="step" [class.active]="currentStage() >= 2">
      <i class='fas fa-money-check-alt' style='font-size:36px'></i>
    </div>
  </div>

  <!-- Section des articles -->
  <div class="cart-content">
    <div class="cart-items">
      
      <!-- Article 1 -->
      @for(product of products(); track product.product?.name){

        <div class="cart-item">

          <div class="item-image">
            <img [src]="product.product?.imageUrl" alt="Bureau ergonomique">
          </div>
          
          <div class="item-details">
            <h3 class="item-name">{{product.product?.name}}</h3>
            <p class="item-description">{{product.product?.description}}</p>
            <div class="item-specs">
              <span class="spec-item">120x60 cm</span>
              <span class="spec-item">Ch√™ne</span>
              <span class="spec-item">Naturel</span>
            </div>
          </div>
          
          <div class="item-actions">
            <div class="item-price">
              <span class="price-current">{{product.product?.price}}‚Ç¨</span>
            </div>
            
            <div class="quantity-controls">
              <button class="quantity-btn quantity-decrease" (click)="updateQuantity(product, -1)">
                <i class="icon-minus">-</i>
              </button>
              <span class="quantity-display">{{product.quantity}}</span>
              <button class="quantity-btn quantity-increase" (click)="updateQuantity(product, 1)">
                <i class="icon-plus">+</i>
              </button>
            </div>
            
            <button class="remove-btn" (click)="removeItems(product)">
              <i class="icon-trash">üóë</i>
              Supprimer
            </button>
          </div>
          
        </div>
      }
      
      <!-- Message panier vide (cach√© par d√©faut) -->
      <div class="empty-cart" style="display: none;">
        <div class="empty-icon">
          <i class="icon-cart">üõí</i>
        </div>
        <h3>Votre panier est vide</h3>
        <p>D√©couvrez notre collection de meubles t√©l√©travail</p>
        <button class="continue-shopping-btn">
          Continuer mes achats
        </button>
      </div>
    </div>

    <!-- R√©sum√© de commande -->
    <div class="order-summary">
      <h2>R√©sum√© de commande</h2>
      
      <div class="summary-details">
        <div class="summary-line">
          <span>Sous-total <strong>{{getTotalItems()}}</strong></span>
          <span>{{getSubTotal()}}‚Ç¨ HT</span>
        </div>
        
        <div class="summary-line">
          <span>Livraison</span>
          <span class="free-shipping">Gratuite</span>
        </div>
        
        <div class="summary-line discount-line">
          <span>R√©duction</span>
          <span class="discount-amount">-</span>
        </div>
        
        <div class="summary-divider"></div>
        
        <div class="summary-line total-line">
          <span>Total</span>
          <span>{{getTotal()}}‚Ç¨ TTC</span>
        </div>
      </div>
      
      <div class="promo-code">
        <input type="text" 
               placeholder="Code promo" 
               class="promo-input">
        <button class="apply-promo-btn">
          Appliquer
        </button>
      </div>
      
      <div class="checkout-actions">
        <button class="checkout-btn">
          Finaliser ma commande
        </button>
        
        <button class="continue-shopping-link">
          Continuer mes achats
        </button>
      </div>
      
      <div class="trust-indicators">
        <div class="trust-item">
          <i class="icon-shield">üõ°Ô∏è</i>
          <span>Paiement s√©curis√©</span>
        </div>
        <div class="trust-item">
          <i class="icon-truck">üöö</i>
          <span>Livraison gratuite</span>
        </div>
        <div class="trust-item">
          <i class="icon-return">‚Ü©Ô∏è</i>
          <span>Retour 30 jours</span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Section suggestions -->
  <div class="suggestions">
    <h2>Vous pourriez aussi aimer</h2>
    <div class="suggestions-grid">
      <div class="suggestion-item">
        <img src="https://via.placeholder.com/200x150/f1f5f9/3b82f6?text=Support" alt="Support √©cran">
        <h4>Support √©cran double</h4>
        <p class="suggestion-price">129,99 ‚Ç¨</p>
        <button class="add-suggestion-btn">
          Ajouter au panier
        </button>
      </div>
      
      <div class="suggestion-item">
        <img src="https://via.placeholder.com/200x150/f1f5f9/3b82f6?text=Repose-pieds" alt="Repose-pieds">
        <h4>Repose-pieds ergonomique</h4>
        <p class="suggestion-price">39,99 ‚Ç¨</p>
        <button class="add-suggestion-btn">
          Ajouter au panier
        </button>
      </div>
      
      <div class="suggestion-item">
        <img src="https://via.placeholder.com/200x150/f1f5f9/3b82f6?text=Organiseur" alt="Organiseur bureau">
        <h4>Organiseur de bureau</h4>
        <p class="suggestion-price">24,99 ‚Ç¨</p>
        <button class="add-suggestion-btn">
          Ajouter au panier
        </button>
      </div>
    </div>
  </div>
</div>