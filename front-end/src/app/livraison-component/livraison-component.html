<div class="delivery-container">
  <!-- En-t√™te de la page -->
  <div class="delivery-header">
    <h1 class="delivery-title">Informations de livraison</h1>
    <div class="breadcrumb">
      <span class="breadcrumb-item">Panier</span>
      <span class="breadcrumb-separator">></span>
      <span class="breadcrumb-item active">Livraison</span>
      <span class="breadcrumb-separator">></span>
      <span class="breadcrumb-item">Paiement</span>
    </div>
  </div>

  <div class="delivery-content">
    <!-- Colonne principale - Formulaire -->
    <div class="delivery-form-section">
      <!-- Adresse de livraison -->
      <div class="form-card">
        <h2 class="section-title">
          <span class="section-icon">üìç</span>
          Adresse de livraison
        </h2>
        
        <form class="delivery-form" (ngSubmit)="onSubmit()">
          <div class="form-row">
            <div class="form-group">
              <label for="firstName" class="form-label">Pr√©nom *</label>
              <input type="text" id="firstName" class="form-input" [placeholder]="user()?.firstName" disabled>
            </div>
            <div class="form-group">
              <label for="lastName" class="form-label">Nom *</label>
              <input type="text" id="lastName" class="form-input" [placeholder]="user()?.lastName" disabled>
            </div>
          </div>

          <div class="form-group">
            <label for="email" class="form-label">Email *</label>
            <input type="email" id="email" class="form-input" [placeholder]="user()?.email" disabled>
          </div>

          <div class="form-group">
            <label for="phone" class="form-label">T√©l√©phone *</label>
            <input type="tel" id="phone" class="form-input" [placeholder]="user()?.phoneNumber" disabled>
          </div>

          <div class="form-group">
            <label for="address" class="form-label">Adresse *</label>
            <input type="text" id="address" class="form-input" name="street" placeholder="Num√©ro et nom de rue" [(ngModel)]="street" required>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="postalCode" class="form-label">Code postal *</label>
              <input type="text" id="postalCode" class="form-input" name="zipCode" [(ngModel)]="zipCode" required>
            </div>
            <div class="form-group">
              <label for="city" class="form-label">Ville *</label>
              <input type="text" id="city" class="form-input" name="city" [(ngModel)]="city" required>
            </div>
          </div>

        <div class="action-buttons">
            <button class="btn-secondary">Retour au panier</button>
            <button class="btn-primary" type="submit" (click)="checkOut()">Continuer vers le paiement</button>
        </div>
         
        </form>
      </div>

      <!-- Options de livraison -->
      <div class="form-card">
        <h2 class="section-title">
          <span class="section-icon">üöö</span>
          Mode de livraison
        </h2>
        
        <div class="delivery-options">
          <div class="delivery-option">
            <input type="radio" id="standard" name="delivery" value="standard" class="delivery-radio" checked>
            <label for="standard" class="delivery-label">
              <div class="delivery-info">
                <div class="delivery-name">Livraison point relais</div>
                <div class="delivery-desc">3-5 jours ouvr√©s</div>
              </div>
              <div class="delivery-price">Gratuit</div>
            </label>
          </div>

          <div class="delivery-option">
            <input type="radio" id="express" name="delivery" value="express" class="delivery-radio">
            <label for="express" class="delivery-label">
              <div class="delivery-info">
                <div class="delivery-name">Livraison √† domicile</div>
                <div class="delivery-desc">3-5 jours ouvr√©s</div>
              </div>
              <div class="delivery-price">Gratuit</div>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Colonne droite - R√©capitulatif -->
    <div class="order-summary">
      <div class="summary-card">
        <h3 class="summary-title">R√©capitulatif de commande</h3>
        
        <div class="summary-items">
            @for(product of productsInOrder; track product.id){

                <div class="summary-item">
                    <div class="item-info">
                        <div class="item-name">{{product.product.name}}</div>
                        <div class="item-details">Qt√©: {{product.quantity}}</div>
                    </div>
                    <div class="item-price">{{product.product.price * product.quantity}}‚Ç¨</div>
                </div>
            }
        
        <div class="summary-divider"></div>
        
        <div class="summary-totals">
          <div class="total-line">
            <span>Sous-total</span>
            <span>{{getSubTotal()}} ‚Ç¨</span>
          </div>
          <div class="total-line">
            <span>Livraison</span>
            <span>Gratuit</span>
          </div>
          <div class="total-line total-final">
            <span>Total</span>
            <span>{{getSubTotal()}} ‚Ç¨</span>
          </div>
        </div>
        
        <div class="promo-code">
          <input type="text" class="promo-input" placeholder="Code promotionnel">
          <button class="promo-btn">Appliquer</button>
        </div>
      </div>
    
      <!-- Informations de s√©curit√© -->
      <div class="security-info">
        <div class="security-item">
          <span class="security-icon">üîí</span>
          <span>Paiement 100% s√©curis√©</span>
        </div>
        <div class="security-item">
          <span class="security-icon">‚Ü©Ô∏è</span>
          <span>Retours gratuits sous 30 jours</span>
        </div>
        <div class="security-item">
          <span class="security-icon">üìû</span>
          <span>Support client 7j/7</span>
        </div>
      </div>
    </div>
  </div>
</div>